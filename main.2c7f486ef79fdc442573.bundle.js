!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=82)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bugReporter=void 0,t.bugReporter={getErrorString:function(e){return"LANGUAGE BUG: "+e+". Please do report this to me along with your source code."},report:function(e){throw new Error(t.bugReporter.getErrorString(e))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionEvaluator=void 0;var n=function(){};t.ExpressionEvaluator=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockParser=void 0;var n=function(){};t.BlockParser=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;var n=function(){};t.Block=n},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ArithmeticExpressionEvaluator=void 0;var i=r(1),s=r(0),a=r(24),u=r(54),c=r(55),p=r(56),l=r(57),f=r(58),h=r(29),v=r(19),d=r(15),y=r(59),_=function(e){function t(t){var r=e.call(this)||this;return r.scope=t,r.expressionEvaluators=[],r.expressionEvaluators.push(new d.FunctionExpressionEvaluator(r.scope)),r.expressionEvaluators.push(new y.LengthOfArrayEvaluator(r.scope)),r.expressionEvaluators.push(new a.ParenthesisEvaluator(r.scope,"arithmetic")),r.expressionEvaluators.push(new u.DivisionEvaluator(r.scope)),r.expressionEvaluators.push(new c.MultiplicationEvaluator(r.scope)),r.expressionEvaluators.push(new p.ModuloEvaluator(r.scope)),r.expressionEvaluators.push(new l.AdditionEvaluator(r.scope)),r.expressionEvaluators.push(new f.SubtractionEvaluator(r.scope)),r.expressionEvaluators.push(new h.NumberEvaluator(r.scope)),r}return o(t,e),t.prototype.tryEvaluate=function(e){if(e.includes("'")||e.includes('"'))return!1;for(var t=0,r=this.expressionEvaluators;t<r.length;t++){if(r[t].tryEvaluate(e))return!0}return!1},t.prototype.evaluate=function(e){if(this.tryEvaluate(e)){for(var t=v.NumberParser.instance;!1===t.tryParse(e);){for(var r=!1,n=0,o=this.expressionEvaluators;n<o.length;n++){var i=o[n];if(i.tryEvaluate(e))try{e=""+i.evaluate(e),r=!0;break}catch(e){}}if(!r)throw new Error("Invalid arithmetic expression")}return t.parse(e)}s.bugReporter.report("INVALID_ARITHMETIC_EXPRESSION_EVALUATION")},t}(i.ExpressionEvaluator);t.ArithmeticExpressionEvaluator=_},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanExpressionEvaluator=void 0;var i=r(1),s=r(0),a=r(17),u=r(24),c=r(45),p=r(47),l=r(48),f=r(49),h=r(50),v=r(51),d=r(52),y=r(53),_=r(26),O=r(15),b=function(e){function t(t){var r=e.call(this)||this;return r.scope=t,r.expressionEvaluators=[],r.expressionEvaluators.push(new O.FunctionExpressionEvaluator(r.scope)),r.expressionEvaluators.push(new u.ParenthesisEvaluator(r.scope,"boolean")),r.expressionEvaluators.push(new l.DoubleEquals(r.scope)),r.expressionEvaluators.push(new f.NotEquals(r.scope)),r.expressionEvaluators.push(new v.GreaterThanOrEqual(r.scope)),r.expressionEvaluators.push(new h.GreaterThan(r.scope)),r.expressionEvaluators.push(new y.LessThanOrEqual(r.scope)),r.expressionEvaluators.push(new d.LessThan(r.scope)),r.expressionEvaluators.push(new c.LogicalAnd(r.scope)),r.expressionEvaluators.push(new p.LogicalOr(r.scope)),r.expressionEvaluators.push(new _.BooleanEvaluator(r.scope)),r}return o(t,e),t.prototype.tryEvaluate=function(e){if(e.includes("'")||e.includes('"'))return!1;for(var t=0,r=this.expressionEvaluators;t<r.length;t++){if(r[t].tryEvaluate(e))return!0}return!1},t.prototype.evaluate=function(e){if(this.tryEvaluate(e)){for(var t=a.BooleanParser.instance;!1===t.tryParse(e);){for(var r=!1,n=0,o=this.expressionEvaluators;n<o.length;n++){var i=o[n];if(i.tryEvaluate(e)){r=!0,e=""+i.evaluate(e);break}}if(!r)throw new Error("Invalid boolean expression")}return t.parse(e)}s.bugReporter.report("INVALID_BOOLEAN_EXPRESSION_EVALUATION")},t}(i.ExpressionEvaluator);t.BooleanExpressionEvaluator=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Interpreter=void 0;var n=r(13),o=r(20),i=r(61),s=r(62),a=r(64),u=r(66),c=r(68),p=r(70),l=r(72),f=r(74),h=r(75),v=r(77),d=r(78),y=r(79),_=r(80),O=function(){function e(e,t){this.linesOfCode=e,this.scope=t,this.blockParsers=[],this.createCopyOfLinesOfCode(),this.blockParsers.push(new _.PushIntoArrayParser(this.linesOfCode,this.scope)),this.blockParsers.push(new y.PopFromArrayParser(this.linesOfCode,this.scope)),this.blockParsers.push(new f.FunctionExecutionParser(this.scope,this.linesOfCode)),this.blockParsers.push(new h.FunctionDefinitionBlockParser(this.scope,this.linesOfCode)),this.blockParsers.push(new l.ReturnParser(this.scope,this.linesOfCode)),this.blockParsers.push(new o.VariableDeclarationParser(this.scope,this.linesOfCode)),this.blockParsers.push(new i.VariableModificationParser(this.scope,this.linesOfCode)),this.blockParsers.push(new s.DisplayStatementsParser(this.scope,this.linesOfCode)),this.blockParsers.push(new a.ConditionalBlockParser(this.linesOfCode,this.scope)),this.blockParsers.push(new v.BreakStatementParser(this.scope,this.linesOfCode)),this.blockParsers.push(new d.ContinueStatementParser(this.scope,this.linesOfCode)),this.blockParsers.push(new u.LoopForXTimesParser(this.linesOfCode,this.scope)),this.blockParsers.push(new c.LoopWhileExpressionIsTrueParser(this.linesOfCode,this.scope)),this.blockParsers.push(new p.ForEveryLoopParser(this.linesOfCode,this.scope))}return e.prototype.createCopyOfLinesOfCode=function(){for(var e=[],t=0,r=this.linesOfCode;t<r.length;t++){var o=r[t],i=new n.LineOfCode(o.value,o.number);e.push(i)}this.linesOfCode=e},e.prototype.interpret=function(){if(0!==this.linesOfCode.length)for((i=this.linesOfCode[this.linesOfCode.length-1]).isInBlock()&&this.linesOfCode.forEach((function(e){return e.decreaseBlockLevel()}));this.linesOfCode.length>0;){for(var e=this.linesOfCode.length,t=this.linesOfCode[this.linesOfCode.length-1].number,r=0,n=this.blockParsers;r<n.length;r++){var o=n[r];if(o.tryParse())try{o.parse().execute();break}catch(e){if(["return","break","continue"].includes(e.message))throw e;throw e.message.includes("line:")?new Error(e.message):new Error(e.message+". At line: "+t)}}if(e===this.linesOfCode.length){var i=this.linesOfCode[this.linesOfCode.length-1];throw new Error("Error in statement at line: "+i.number)}}},e}();t.Interpreter=O},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.VariableBlock=t.VariableBlockType=void 0;var i,s=r(3),a=r(21),u=r(22);!function(e){e[e.declare=0]="declare",e[e.set=1]="set"}(i=t.VariableBlockType||(t.VariableBlockType={}));var c=function(e){function t(t,r,n,o,i,s){var c=e.call(this)||this;if(c.typeOfBlock=t,c.variableName=r,c.typeOfVariable=n,c.value=o,c.isPermanent=i,c.scope=s,c.variableName=c.variableName.trim(),a.existingKeywords.has(c.variableName))throw new Error("'"+c.variableName+"' is a keyword and can't be used as an identifier.");if(!1===u.isValidIdentifier(c.variableName))throw new Error("'"+c.variableName+"' is not a valid identifier name.");return c}return o(t,e),t.prototype.declare=function(){if(this.scope.hasVariable(this.variableName))throw new Error("Trying to declare existing variable.");this.scope.variables[this.variableName]={type:this.typeOfVariable,value:this.value,isPermanent:this.isPermanent}},t.prototype.set=function(){if(!1===this.scope.hasVariable(this.variableName))throw new Error("Trying to set value of not-declared variable.");if(this.scope.getVariable(this.variableName).isPermanent)throw new Error("Tried to modify a permanent variable.");this.scope.getVariable(this.variableName).value=this.value},t.prototype.execute=function(){this.typeOfBlock===i.declare?this.declare():this.set()},t}(s.Block);t.VariableBlock=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numericComparisionEvaluator=void 0;var n=r(27);t.numericComparisionEvaluator=function(e,t,r,o){var i=n.getPreviousAndNextNumberOrIdentifier(e,t,r);return e.replace(i.originalExpression,""+o(i.prev,i.next))}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.StringExpressionEvaluator=void 0;var i=r(1),s=r(0),a=r(31),u=r(30),c=function(e){function t(t){var r=e.call(this)||this;return r.scope=t,r.arrayIndexEvaluator=new u.ArrayIndexEvaluator(t,"string"),r}return o(t,e),t.prototype.tryEvaluate=function(e){var r=e.trim();return!!t.stringParser.tryParse(r)||this.scope.hasVariable(r)&&"string"===this.scope.getVariable(r).type},t.prototype.evaluate=function(e){var r=e.trim();if(this.tryEvaluate(r))return t.stringParser.tryParse(r)?t.stringParser.parse(r):this.scope.getVariable(r).value;s.bugReporter.report("EVALUATING_INVALID_STRING")},t.stringParser=a.StringParser.instance,t}(i.ExpressionEvaluator);t.StringExpressionEvaluator=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.csvSplit=void 0;var n=function(){function e(){this.countOpenParenthesis=0,this.countOpenCurlyBraces=0,this.countOpenSquareBrackets=0,this.areQuotesOpen=!1}return e.prototype.canSplitHere=function(){return 0===this.countOpenCurlyBraces&&0===this.countOpenParenthesis&&0===this.countOpenSquareBrackets&&!1===this.areQuotesOpen},e.prototype.openParentheses=function(){!1===this.areQuotesOpen&&(this.countOpenParenthesis+=1)},e.prototype.openSquareBrackets=function(){!1===this.areQuotesOpen&&(this.countOpenSquareBrackets+=1)},e.prototype.openCurlyBraces=function(){!1===this.areQuotesOpen&&(this.countOpenCurlyBraces+=1)},e.prototype.closeParentheses=function(){!1===this.areQuotesOpen&&this.countOpenParenthesis>0&&(this.countOpenParenthesis-=1)},e.prototype.closeSquareBrackets=function(){!1===this.areQuotesOpen&&this.countOpenSquareBrackets>0&&(this.countOpenSquareBrackets-=1)},e.prototype.closeCurlyBraces=function(){!1===this.areQuotesOpen&&this.countOpenCurlyBraces&&(this.countOpenCurlyBraces-=1)},e.prototype.processQuotes=function(){this.areQuotesOpen=!this.areQuotesOpen},e}();t.csvSplit=function(e){e=e.trim();for(var t=new n,r=[],o=0;o<e.length;o++){switch(e[o]){case"(":t.openParentheses();break;case"{":t.openCurlyBraces();break;case"[":t.openSquareBrackets();break;case"'":t.processQuotes();break;case")":t.closeParentheses();break;case"}":t.closeCurlyBraces();break;case"]":t.closeSquareBrackets();break;case",":t.canSplitHere()&&r.push(o)}}r.push(e.length);for(var i=[],s=-1,a=0,u=r;a<u.length;a++){var c=u[a],p=e.substring(s+1,c).trim();s=c,p.length>0&&i.push(p)}return i}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayExpressionEvaluator=void 0;var i=r(0),s=r(60),a=r(1),u=r(4),c=r(5),p=r(9),l=r(10),f=r(15),h=function(e){function t(t){var r=e.call(this)||this;return r.scope=t,r.expressionEvaluators=[],r.types={0:"number",1:"boolean",2:"string"},r.expressionEvaluators.push(new u.ArithmeticExpressionEvaluator(r.scope)),r.expressionEvaluators.push(new c.BooleanExpressionEvaluator(r.scope)),r.expressionEvaluators.push(new p.StringExpressionEvaluator(r.scope)),r.functionExpressionEvaluator=new f.FunctionExpressionEvaluator(r.scope),r}return o(t,e),t.prototype.getType=function(e){if(!1===this.tryEvaluate(e))throw new Error("Invalid array type.");var t=this.evaluate(e);return 0===t.length?"any":t[0].toString()===t[0]?"string":!0===JSON.parse(t[0])||!1===JSON.parse(t[0])?"boolean":"number"},t.prototype.tryParseExpressionBasedArray=function(e){var t=this,r=e.trim();if(this.functionExpressionEvaluator.tryEvaluate(e))return!0;if(!1===r.startsWith("[")||!1===r.endsWith("]"))return!1;var n=r.slice(1,r.length-1).trim(),o=l.csvSplit(n),i="any",s=!0;return o.forEach((function(e){if(!1!==s){var r=!1;t.expressionEvaluators.forEach((function(n,o){!1!==s&&n.tryEvaluate(e)&&!1===r&&("any"===i?i=t.types[o]:i!==t.types[o]&&(s=!1),r=!0)})),!1===r&&(s=!1)}})),s},t.prototype.parseExpressionBasedArray=function(e){var t=e.trim();this.functionExpressionEvaluator.tryEvaluate(t)&&(t=this.functionExpressionEvaluator.evaluate(t));for(var r=t.slice(1,t.length-1).trim(),n=[],o=0,i=l.csvSplit(r);o<i.length;o++)for(var s=i[o],a=0,u=this.expressionEvaluators;a<u.length;a++){var c=u[a];c.tryEvaluate(s)&&n.push(c.evaluate(s))}return n},t.prototype.tryEvaluate=function(e){var r=e.trim();return!!t.arrayParser.tryParse(r)||(!!this.tryParseExpressionBasedArray(r)||this.scope.hasVariable(r)&&"array"===this.scope.getVariable(r).type)},t.prototype.evaluate=function(e){if(this.tryEvaluate(e))return t.arrayParser.tryParse(e)?t.arrayParser.parse(e):this.tryParseExpressionBasedArray(e)?this.parseExpressionBasedArray(e):this.scope.getVariable(e.trim()).value;i.bugReporter.report("EVALUATING_INVALID_STRING")},t.arrayParser=s.ArrayParser.instance,t}(a.ExpressionEvaluator);t.ArrayExpressionEvaluator=h},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Scope=void 0;var o=r(0),i=function(){function e(e){this.variables={},this.parentScope=null,this.functions={},e&&(this.parentScope=e)}return e.prototype.shallowClone=function(){var t=new e;return this.parentScope&&(t.parentScope=this.parentScope),t.variables=n({},this.variables),t.functions=n({},this.functions),t},e.prototype.hasFunction=function(e){return!!this.functions.hasOwnProperty(e)||null!==this.parentScope&&this.parentScope.hasFunction(e)},e.prototype.getFunction=function(e){if(this.functions.hasOwnProperty(e))return this.functions[e];if(null!==this.parentScope)return this.parentScope.getFunction(e);throw o.bugReporter.report("ACCESS_UNDEFINED_SYMBOL"),new Error("Unreachable block")},e.prototype.hasVariable=function(e){return!!this.variables.hasOwnProperty(e)||null!==this.parentScope&&this.parentScope.hasVariable(e)},e.prototype.getVariable=function(e){return this.variables.hasOwnProperty(e)?this.variables[e]:null!==this.parentScope?this.parentScope.getVariable(e):(o.bugReporter.report("ACCESS_UNDEFINED_SYMBOL"),{type:"",value:42})},e}();t.Scope=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LineOfCode=void 0;var n=r(0),o=function(){function e(e,t){this.value=e,this.number=t}return e.prototype.isInBlock=function(){return this.value.startsWith("    ")},e.prototype.decreaseBlockLevel=function(){this.isInBlock()?this.value=this.value.substring(4):n.bugReporter.report("BLOCK_LEVEL_CHOP_NON_BLOCK")},e.prototype.isIndentationValid=function(){return this.value.search(/\S|$/)%4==0},e}();t.LineOfCode=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DatatypeParser=void 0;var n=function(){};t.DatatypeParser=n},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionExpressionEvaluator=void 0;var i=r(1),s=r(10),a=function(e){function t(t){var r=e.call(this)||this;return r.scope=t,r}return o(t,e),t.prototype.tryEvaluate=function(e){return/^result\s* of/.test(e.trim())},t.prototype.evaluate=function(e){e=e.trim();var r="",n="";if(this.tryEvaluate(e)){var o=e.match(t.assignmentRegex);o&&(r=o[1].trim(),n=o[2].trim())}if(""===r)throw"Invalid statement.";if(!1===this.scope.hasFunction(r))throw new Error("Invalid function name.");var i=this.scope.getFunction(r);return i.argv=s.csvSplit(n),i.evaluationScope=this.scope,i.execute(),JSON.stringify(i.getResult().value).replace('"',"'")},t.assignmentRegex=/^result\s* of\s* ([_a-zA-Z][_a-zA-Z0-9]*)\((.*)\)\s*$/,t}(i.ExpressionEvaluator);t.FunctionExpressionEvaluator=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arithmeticOperationEvaluator=void 0;var n=r(27);t.arithmeticOperationEvaluator=function(e,t,r,o){var i=n.getPreviousAndNextNumberOrIdentifier(e,t,r);return e.replace(i.originalExpression,""+o(i.prev,i.next))}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanParser=void 0;var i=r(14),s=r(0),a=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.type=function(){return"boolean"},t.prototype.tryParse=function(e){var t=e.trim();return["true","false"].includes(t)},t.prototype.parse=function(e){if(this.tryParse(e))return JSON.parse(e);s.bugReporter.report("PARSE_CALLED_ON_INVALID_BOOL_STRING")},t.instance=new t,t}(i.DatatypeParser);t.BooleanParser=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reverseString=void 0,t.reverseString=function(e){return Array.from(e).reverse().join("")}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.NumberParser=void 0;var i=r(14),s=r(0),a=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.type=function(){return"number"},t.prototype.tryParse=function(e){var t=e.trim();return""!==t&&!1===isNaN(Number(t))},t.prototype.parse=function(e){if(this.tryParse(e))return Number(e);s.bugReporter.report("PARSE_CALLED_ON_NOT_VALID_NUMBER")},t.instance=new t,t}(i.DatatypeParser);t.NumberParser=a},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.VariableDeclarationParser=void 0;var i=r(2),s=r(7),a=r(23),u=r(4),c=r(5),p=r(9),l=r(11),f=function(e){function t(t,r,n){var o=e.call(this)||this;o.scope=t,o.lineOfCodes=r,o.evaluationScope=n,o.expressionEvaluators={};var i=n||t;return o.expressionEvaluators.number=new u.ArithmeticExpressionEvaluator(i),o.expressionEvaluators.boolean=new c.BooleanExpressionEvaluator(i),o.expressionEvaluators.string=new p.StringExpressionEvaluator(i),o.expressionEvaluators.array=new l.ArrayExpressionEvaluator(i),o}return o(t,e),t.prototype.tryParsePrimitive=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1];return t.primitiveRegex.test(e.value)},t.prototype.tryParseArray=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1];return t.arrayRegex.test(e.value)},t.prototype.tryParse=function(){var e=this.tryParsePrimitive(),t=this.tryParseArray();return e||t},t.prototype.parsePrimitive=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1],r=e.value.match(t.primitiveRegex);if(r){var n=r[1],o=r[2],i=r[3];if(!1===["number","string","boolean"].includes(n)){if("array"===n)throw new Error("Invalid datatype at line: "+e.number+"\nType of array needs to be provided as: array of <TYPE>");throw new Error("Invalid datatype at line: "+e.number)}var a=this.expressionEvaluators[n];if(!1===a.tryEvaluate(i))throw new Error("Invalid value assigned to variable at line: "+e.number);return this.lineOfCodes.pop(),new s.VariableBlock(s.VariableBlockType.declare,o,n,a.evaluate(i),!1,this.scope)}throw new Error("Invalid statement. At line: "+e.number)},t.prototype.parseArray=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1],r=e.value.match(t.arrayRegex);if(r){var n=r[1],o=r[2],i=r[3];if(!1===["number","string","boolean"].includes(n))throw new Error("Invalid datatype at line: "+e.number);var u=this.expressionEvaluators.array;if(!1===u.tryEvaluate(i))throw new Error("Invalid value assigned to variable at line: "+e.number);var c=u.getType(i);if(c!==n&&"any"!==c)throw new Error("Datatype of variable doesn't match with value assigned, at line: "+e.number);return this.lineOfCodes.pop(),new a.ArrayVariableBlock(s.VariableBlockType.declare,o,"array",u.evaluate(i),!1,this.scope,n)}throw new Error("Invalid statement. At line: "+e.number)},t.prototype.parse=function(){if(this.tryParsePrimitive())return this.parsePrimitive();if(this.tryParseArray())return this.parseArray();throw new Error("Invalid variable declaration statement at line: "+this.lineOfCodes[this.lineOfCodes.length-1].number)},t.primitiveRegex=/^let\s* (\S*)\s* (\S*)\s* be\s* (.*)\s*$/,t.arrayRegex=/^let\s* array\s* of\s* (\S*)\s*,\s*(\S*)\s*,\s*be\s* (.*)$/,t}(i.BlockParser);t.VariableDeclarationParser=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.existingKeywords=void 0;var n=new Set;n.add("let"),n.add("set"),n.add("be"),n.add("of"),n.add("to"),n.add("as"),n.add("in"),n.add("if"),n.add("do"),n.add("then"),n.add("else"),n.add("loop"),n.add("for"),n.add("times"),n.add("with"),n.add("every"),n.add("index"),n.add("result"),n.add("permanently"),n.add("display"),n.add("counter"),n.add("define"),n.add("function"),n.add("which"),n.add("returns"),n.add("return"),n.add("nothing"),n.add("arguments"),n.add("number"),n.add("boolean"),n.add("string"),n.add("array"),n.add("true"),n.add("false"),n.add("and"),n.add("or"),t.existingKeywords=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidIdentifier=void 0;var n=/^[_a-zA-Z][_a-zA-Z0-9]*$/;t.isValidIdentifier=function(e){return n.test(e.trim())}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayVariableBlock=void 0;var i=function(e){function t(t,r,n,o,i,s,a){var u=e.call(this,t,r,n,o,i,s)||this;return u.typeOfBlock=t,u.variableName=r,u.typeOfVariable=n,u.value=o,u.isPermanent=i,u.typeOfArray=a,u}return o(t,e),t.prototype.declare=function(){if(this.scope.hasVariable(this.variableName))throw new Error("Trying to declare existing variable.");this.scope.variables[this.variableName]={type:this.typeOfVariable,value:this.value,isPermanent:this.isPermanent,arrayType:this.typeOfArray}},t}(r(7).VariableBlock);t.ArrayVariableBlock=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ParenthesisEvaluator=void 0;var i=r(1),s=r(0),a=r(5),u=r(4),c=function(e){function t(t,r){var n=e.call(this)||this;return n.scope=t,n.type=r,n}return o(t,e),t.indexOfClosingParenthesis=function(e){for(var t=!1,r=0,n=0;n<e.length;n++){if("("===e[n])r++,t=!0;else if(")"===e[n]){if(0===r)return-1;r--}if(0===r&&t)return n}return-1},t.prototype.tryEvaluate=function(e){var r=e.indexOf("("),n=t.indexOfClosingParenthesis(e);return r>=0&&r<n},t.prototype.evaluate=function(e){if(this.tryEvaluate(e)){for(var r=e.indexOf("("),n=t.indexOfClosingParenthesis(e),o=e.substr(r+1,n-r-1),i=0,c=("boolean"===this.type?new a.BooleanExpressionEvaluator(this.scope):new u.ArithmeticExpressionEvaluator(this.scope)).expressionEvaluators;i<c.length;i++){var p=c[i];if(p.tryEvaluate(o)){var l=p.evaluate(o).toString();return e.replace("("+o+")"," "+l+" ")}}throw new Error("Invalid "+this.type+" expression")}s.bugReporter.report("EVALUATE_CALLED_ON_INVALID_"+this.type.toUpperCase+"_PARENTHESIS_BLOCK")},t}(i.ExpressionEvaluator);t.ParenthesisEvaluator=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.booleanComparisionEvaluator=void 0;var n=r(18),o=r(46),i=r(26);t.booleanComparisionEvaluator=function(e,t,r,s){var a=e.split(t),u=n.reverseString(a[0]),c=o.parseInitialBooleanOrIdentifier(u),p=n.reverseString(c),l=o.parseInitialBooleanOrIdentifier(a[1]),f=new i.BooleanEvaluator(r);if(!1===f.tryEvaluate(p)||!1===f.tryEvaluate(l))throw new Error("Can't compare non-boolean symbols.");var h=f.evaluate(p),v=f.evaluate(l),d=""+p+t+l;return e.replace(d,""+s(h,v))}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanEvaluator=void 0;var i=r(1),s=r(0),a=r(17),u=function(e){function t(t){var r=e.call(this)||this;return r.scope=t,r}return o(t,e),t.prototype.tryEvaluate=function(e){var r=e.trim();return!!t.booleanParser.tryParse(r)||this.scope.hasVariable(r)&&"boolean"===this.scope.getVariable(r).type},t.prototype.evaluate=function(e){var r=e.trim();if(this.tryEvaluate(r))return t.booleanParser.tryParse(r)?t.booleanParser.parse(r):this.scope.getVariable(r).value;s.bugReporter.report("EVALUATING_INVALID_BOOLEAN")},t.booleanParser=a.BooleanParser.instance,t}(i.ExpressionEvaluator);t.BooleanEvaluator=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPreviousAndNextNumberOrIdentifier=void 0;var n=r(18),o=r(28),i=r(4);t.getPreviousAndNextNumberOrIdentifier=function(e,t,r){var s=e.split(t),a=n.reverseString(s[0]),u=o.parseInitialNumberOrIdentifier(a,!0),c=n.reverseString(u),p=o.parseInitialNumberOrIdentifier(s[1],!1),l=new i.ArithmeticExpressionEvaluator(r);if(!1===l.tryEvaluate(c)||!1===l.tryEvaluate(p))throw new Error("Can't compare non-number symbols.");return{prev:l.evaluate(c),next:l.evaluate(p),originalExpression:""+c+t+p}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInitialNumberOrIdentifier=void 0;var n=function(e,t){return/^\s*[_.a-zA-Z0-9*+\-/%()\[\]]*$/.test(e)};t.parseInitialNumberOrIdentifier=function(e,t){for(var r="",o=0;o<e.length;o++){var i=e.substr(0,o+1);if(!n(i))break;r=i}return r}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.NumberEvaluator=void 0;var i=r(1),s=r(19),a=r(0),u=r(30),c=function(e){function t(t){var r=e.call(this)||this;return r.scope=t,r.arrayIndexEvaluator=new u.ArrayIndexEvaluator(t,"number"),r}return o(t,e),t.prototype.tryEvaluate=function(e){var r=e.trim();return!!t.numberParser.tryParse(r)||(!(!this.scope.hasVariable(r)||"number"!==this.scope.getVariable(r).type)||this.arrayIndexEvaluator.tryEvaluate(e.trim()))},t.prototype.evaluate=function(e){var r=e.trim();if(this.tryEvaluate(r))return t.numberParser.tryParse(r)?t.numberParser.parse(r):this.scope.hasVariable(r)?this.scope.getVariable(r).value:this.arrayIndexEvaluator.evaluate(r);a.bugReporter.report("EVALUATING_INVALID_NUMBER")},t.numberParser=s.NumberParser.instance,t}(i.ExpressionEvaluator);t.NumberEvaluator=c},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayIndexEvaluator=void 0;var i=r(1),s=r(4),a=function(e){function t(t,r){var n=e.call(this)||this;return n.scope=t,n.arrayType=r,n}return o(t,e),t.prototype.getType=function(e){var r=e.match(t.regex);if(r){var n=r[1].trim();return!1===this.scope.hasVariable(n)||"array"!==this.scope.getVariable(n).type?"":this.scope.getVariable(n).arrayType}return""},t.prototype.tryEvaluate=function(e){return this.getType(e.trim())===this.arrayType},t.prototype.evaluate=function(e){var r=e.trim().match(t.regex);if(r){var n=r[1].trim(),o=r[2],i=new s.ArithmeticExpressionEvaluator(this.scope);if(!1===i.tryEvaluate(o))throw new Error("Invalid index.");var a=i.evaluate(o),u=this.scope.getVariable(n);if(a<0||a>=u.value.length)throw new Error("Index out of bounds.");return u.value[a]}throw new Error("Invalid statement.")},t.regex=/^(.+)\[(.*)]$/,t}(i.ExpressionEvaluator);t.ArrayIndexEvaluator=a},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.StringParser=void 0;var i=r(14),s=r(0),a=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.type=function(){return"string"},t.prototype.tryParse=function(e){var t=e.trim();return!1!==t.startsWith("'")&&!1!==t.endsWith("'")&&2===Array.from(t).filter((function(e){return"'"===e})).length},t.prototype.parse=function(e){if(this.tryParse(e)){var t=e.trim();return t.slice(1,t.length-1)}s.bugReporter.report("PARSE_INVOKED_ON_NON_STRING")},t.instance=new t,t}(i.DatatypeParser);t.StringParser=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutputBuffer=void 0;var n=function(){function e(){this.buffer=[]}return e.prototype.push=function(e){this.buffer.push(e)},e.prototype.flush=function(){this.buffer=[]},e.prototype.getAndFlush=function(){var e=this.buffer.join("");return this.flush(),e},e.instance=new e,e}();t.OutputBuffer=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Main=void 0;var n=r(41),o=r(6),i=r(81),s=r(32),a=function(){function e(e){this.code=e,this.linesOfCode=[]}return e.prototype.preProcess=function(){this.linesOfCode=n.preProcess(this.code),this.linesOfCode.forEach((function(e){if(!1===e.isIndentationValid())throw new Error("Indentation is invalid at line: "+e.number)}))},e.prototype.compile=function(e){try{this.preProcess(),new o.Interpreter(this.linesOfCode.reverse(),e||i.globalScope.shallowClone()).interpret()}catch(e){s.OutputBuffer.instance.push(e.message)}},e.prototype.getOutput=function(){return s.OutputBuffer.instance.getAndFlush()},e}();t.Main=a},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.preProcess=void 0;var o=r(42),i=r(44),s=function(){function e(e){this.code=e,this._processedLOC=[]}return Object.defineProperty(e.prototype,"processedLOC",{get:function(){return n(this._processedLOC)},enumerable:!1,configurable:!0}),e.prototype.process=function(){this.setEffectiveLOC(this.code),this.transformInitialWhitespace()},e.prototype.setEffectiveLOC=function(e){this._processedLOC=o.extractEffectiveLoc(e)},e.prototype.transformInitialWhitespace=function(){this._processedLOC=i.initialWhitespaceConverter(this._processedLOC)},e}();t.preProcess=function(e){var t=new s(e);return t.process(),t.processedLOC}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractEffectiveLoc=void 0;var n=r(43),o=r(13);t.extractEffectiveLoc=function(e){var t=e.split("\n"),r=[];return t.forEach((function(e,t){if(!1===n.isWhiteSpaceOrEmpty(e)){var i=t+1;r.push(new o.LineOfCode(e,i))}})),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWhiteSpaceOrEmpty=void 0,t.isWhiteSpaceOrEmpty=function(e){return""===e.trim()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialWhitespaceConverter=void 0;var n=r(13),o={"\t":"    "," ":" "};t.initialWhitespaceConverter=function(e){var t=[];return e.forEach((function(e){for(var r=[],i=0;i<e.value.length;i++){if(!1===["\t"," "].includes(e.value[i])){r.push(e.value.substring(i));break}r.push(o[e.value[i]])}var s=r.join(""),a=new n.LineOfCode(s,e.number);t.push(a)})),t}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.LogicalAnd=void 0;var i=r(1),s=r(0),a=r(25),u=function(e){function t(t){var r=e.call(this)||this;return r.scope=t,r.identifier="and",r}return o(t,e),t.prototype.tryEvaluate=function(e){return e.includes(this.identifier)},t.prototype.evaluate=function(e){if(this.tryEvaluate(e))return a.booleanComparisionEvaluator(e,this.identifier,this.scope,(function(e,t){return e&&t}));s.bugReporter.report("INVALID_LOGICAL_AND_COMPARISION")},t}(i.ExpressionEvaluator);t.LogicalAnd=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInitialBooleanOrIdentifier=void 0;var n=function(e){return/^\s*[_a-zA-Z0-9]*$/.test(e)};t.parseInitialBooleanOrIdentifier=function(e){for(var t="",r=0;r<e.length;r++){var o=e.substr(0,r+1);if(!n(o))break;t=o}return t}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.LogicalOr=void 0;var i=r(1),s=r(25),a=r(0),u=function(e){function t(t){var r=e.call(this)||this;return r.scope=t,r.identifier="or",r}return o(t,e),t.prototype.tryEvaluate=function(e){return e.includes(this.identifier)},t.prototype.evaluate=function(e){if(this.tryEvaluate(e))return s.booleanComparisionEvaluator(e,this.identifier,this.scope,(function(e,t){return e||t}));a.bugReporter.report("INVALID_LOGICAL_OR_COMPARISION")},t}(i.ExpressionEvaluator);t.LogicalOr=u},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.DoubleEquals=void 0;var i=r(1),s=r(0),a=r(8),u=function(e){function t(t){var r=e.call(this)||this;return r.scope=t,r.identifier="==",r}return o(t,e),t.prototype.tryEvaluate=function(e){return e.includes(this.identifier)},t.prototype.evaluate=function(e){if(this.tryEvaluate(e))return a.numericComparisionEvaluator(e,this.identifier,this.scope,(function(e,t){return e===t}));s.bugReporter.report("INVALID_DOUBLE_EQUALITY_COMPARISION")},t}(i.ExpressionEvaluator);t.DoubleEquals=u},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.NotEquals=void 0;var i=r(1),s=r(8),a=r(0),u=function(e){function t(t){var r=e.call(this)||this;return r.scope=t,r.identifier="!=",r}return o(t,e),t.prototype.tryEvaluate=function(e){return e.includes(this.identifier)},t.prototype.evaluate=function(e){if(this.tryEvaluate(e))return s.numericComparisionEvaluator(e,this.identifier,this.scope,(function(e,t){return e!=t}));a.bugReporter.report("INVALID_INEQUALITY_COMPARISION")},t}(i.ExpressionEvaluator);t.NotEquals=u},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.GreaterThan=void 0;var i=r(1),s=r(0),a=r(8),u=function(e){function t(t){var r=e.call(this)||this;return r.scope=t,r.identifier=">",r}return o(t,e),t.prototype.tryEvaluate=function(e){return e.includes(this.identifier)},t.prototype.evaluate=function(e){if(this.tryEvaluate(e))return a.numericComparisionEvaluator(e,this.identifier,this.scope,(function(e,t){return e>t}));s.bugReporter.report("INVALID_GREATER_THAN_COMPARISION")},t}(i.ExpressionEvaluator);t.GreaterThan=u},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.GreaterThanOrEqual=void 0;var i=r(1),s=r(8),a=r(0),u=function(e){function t(t){var r=e.call(this)||this;return r.scope=t,r.identifier=">=",r}return o(t,e),t.prototype.tryEvaluate=function(e){return e.includes(this.identifier)},t.prototype.evaluate=function(e){if(this.tryEvaluate(e))return s.numericComparisionEvaluator(e,this.identifier,this.scope,(function(e,t){return e>=t}));a.bugReporter.report("INVALID_GREATER_THAN_OR_EQUAL_COMPARISION")},t}(i.ExpressionEvaluator);t.GreaterThanOrEqual=u},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.LessThan=void 0;var i=r(1),s=r(8),a=r(0),u=function(e){function t(t){var r=e.call(this)||this;return r.scope=t,r.identifier="<",r}return o(t,e),t.prototype.tryEvaluate=function(e){return e.includes(this.identifier)},t.prototype.evaluate=function(e){if(this.tryEvaluate(e))return s.numericComparisionEvaluator(e,this.identifier,this.scope,(function(e,t){return e<t}));a.bugReporter.report("INVALID_LESS_THAN_COMPARISION")},t}(i.ExpressionEvaluator);t.LessThan=u},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.LessThanOrEqual=void 0;var i=r(1),s=r(8),a=r(0),u=function(e){function t(t){var r=e.call(this)||this;return r.scope=t,r.identifier="<=",r}return o(t,e),t.prototype.tryEvaluate=function(e){return e.includes(this.identifier)},t.prototype.evaluate=function(e){if(this.tryEvaluate(e))return s.numericComparisionEvaluator(e,this.identifier,this.scope,(function(e,t){return e<=t}));a.bugReporter.report("INVALID_LESS_THAN_OR_EQUAL_COMPARISION")},t}(i.ExpressionEvaluator);t.LessThanOrEqual=u},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.DivisionEvaluator=void 0;var i=r(1),s=r(0),a=r(16),u=function(e){function t(t){var r=e.call(this)||this;return r.scope=t,r.identifier="/",r}return o(t,e),t.prototype.tryEvaluate=function(e){return e.includes(this.identifier)},t.prototype.evaluate=function(e){if(this.tryEvaluate(e))return a.arithmeticOperationEvaluator(e,this.identifier,this.scope,(function(e,t){return e/t}));s.bugReporter.report("INVALID_DIVISION_OPERATION")},t}(i.ExpressionEvaluator);t.DivisionEvaluator=u},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.MultiplicationEvaluator=void 0;var i=r(1),s=r(0),a=r(16),u=function(e){function t(t){var r=e.call(this)||this;return r.scope=t,r.identifier="*",r}return o(t,e),t.prototype.tryEvaluate=function(e){return e.includes(this.identifier)},t.prototype.evaluate=function(e){if(this.tryEvaluate(e))return a.arithmeticOperationEvaluator(e,this.identifier,this.scope,(function(e,t){return e*t}));s.bugReporter.report("INVALID_MULTIPLICATION_OPERATION")},t}(i.ExpressionEvaluator);t.MultiplicationEvaluator=u},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ModuloEvaluator=void 0;var i=r(1),s=r(0),a=r(16),u=function(e){function t(t){var r=e.call(this)||this;return r.scope=t,r.identifier="%",r}return o(t,e),t.prototype.tryEvaluate=function(e){return e.includes(this.identifier)},t.prototype.evaluate=function(e){if(this.tryEvaluate(e))return a.arithmeticOperationEvaluator(e,this.identifier,this.scope,(function(e,t){return e%t}));s.bugReporter.report("INVALID_MODULO_OPERATION")},t}(i.ExpressionEvaluator);t.ModuloEvaluator=u},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AdditionEvaluator=void 0;var i=r(1),s=r(0),a=r(16),u=function(e){function t(t){var r=e.call(this)||this;return r.scope=t,r.identifier="+",r}return o(t,e),t.prototype.tryEvaluate=function(e){return e.includes(this.identifier)},t.prototype.evaluate=function(e){if(this.tryEvaluate(e))return a.arithmeticOperationEvaluator(e,this.identifier,this.scope,(function(e,t){return e+t}));s.bugReporter.report("INVALID_ADDITION_OPERATION")},t}(i.ExpressionEvaluator);t.AdditionEvaluator=u},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.SubtractionEvaluator=void 0;var i=r(1),s=r(0),a=r(18),u=r(28),c=r(29),p=function(e){function t(t){var r=e.call(this)||this;return r.scope=t,r}return o(t,e),t.getNextAndPrevIdentifiers=function(e,t){var r=a.reverseString(e),n=u.parseInitialNumberOrIdentifier(r,!0);return{lhs:a.reverseString(n),rhs:u.parseInitialNumberOrIdentifier(t,!1)}},t.prototype.getValidSplitIndex=function(e){for(var r=e.split(t.identifier),n=new c.NumberEvaluator(this.scope),o=0;o<r.length-1;o++){var i=r.slice(0,o+1).join(t.identifier),s=r.slice(o+1,r.length).join(t.identifier),a=t.getNextAndPrevIdentifiers(i,s),u=a.lhs,p=a.rhs;if(!1!==n.tryEvaluate(u)&&!1!==n.tryEvaluate(p))return i.length}return-1},t.prototype.tryEvaluate=function(e){return!1!==e.includes(t.identifier)&&this.getValidSplitIndex(e)>-1},t.prototype.evaluate=function(e){if(this.tryEvaluate(e)){var r=this.getValidSplitIndex(e),n=e.slice(0,r),o=e.slice(r+1),i=t.getNextAndPrevIdentifiers(n,o),a=i.lhs,u=i.rhs,p=new c.NumberEvaluator(this.scope),l={prev:p.evaluate(a),next:p.evaluate(u),originalExpression:""+a+t.identifier+u};return e.replace(l.originalExpression,""+(l.prev-l.next))}s.bugReporter.report("INVALID_SUBTRACTION_OPERATION")},t.identifier="-",t}(i.ExpressionEvaluator);t.SubtractionEvaluator=p},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.LengthOfArrayEvaluator=void 0;var i=function(e){function t(t){var r=e.call(this)||this;return r.scope=t,r}return o(t,e),t.prototype.tryEvaluate=function(e){return t.regex.test(e.trim())},t.prototype.evaluate=function(e){var r=(e=e.trim()).match(t.regex);if(r){var n=r[1].trim();if(!1===this.scope.hasVariable(n))throw new Error("'"+n+"' is not a variable");var o=this.scope.getVariable(n);if("array"!==o.type)throw new Error("'"+n+"' is not a array variable");return o.value.length}throw new Error("Invalid statement.")},t.regex=/^length\s* of (.*)$/,t}(r(1).ExpressionEvaluator);t.LengthOfArrayEvaluator=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayParser=void 0;var i=r(14),s=r(19),a=r(17),u=r(31),c=r(0),p=r(10),l=function(e){function t(){var t=e.call(this)||this;return t.primitiveParsers=[s.NumberParser.instance,a.BooleanParser.instance,u.StringParser.instance],t}return o(t,e),t.prototype.type=function(){return"array"},t.prototype.tryParse=function(e){var t=this,r=e.trim();if(!1===r.startsWith("[")||!1===r.endsWith("]"))return!1;var n=r.slice(1,r.length-1).trim();if(0===n.length)return!0;var o=p.csvSplit(n),i="any",s=!0;return o.forEach((function(e){if(!1!==s){var r=!1;t.primitiveParsers.forEach((function(t){!1!==s&&t.tryParse(e)&&("any"===i?i=t.type():i!==t.type()&&(s=!1),r=!0)})),!1===r&&(s=!1)}})),s},t.prototype.parse=function(e){var t=this;if(this.tryParse(e)){var r=e.trim(),n=r.slice(1,r.length-1).trim(),o=[];return p.csvSplit(n).forEach((function(e){var r=!1;t.primitiveParsers.forEach((function(t){r||t.tryParse(e)&&(o.push(t.parse(e)),r=!0)}))})),o}c.bugReporter.report("PARSE_INVOKED_ON_INVALID_ARRAY")},t.instance=new t,t}(i.DatatypeParser);t.ArrayParser=l},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.VariableModificationParser=void 0;var s=r(2),a=r(7),u=r(4),c=r(5),p=r(9),l=r(11),f=function(e){function t(t,r){var n=e.call(this)||this;return n.scope=t,n.lineOfCodes=r,n.expressionEvaluators={},n.primitiveExpressionEvaluators=[],n.mapping=["number","boolean","string"],n.expressionEvaluators.number=new u.ArithmeticExpressionEvaluator(n.scope),n.expressionEvaluators.boolean=new c.BooleanExpressionEvaluator(n.scope),n.expressionEvaluators.string=new p.StringExpressionEvaluator(n.scope),n.expressionEvaluators.array=new l.ArrayExpressionEvaluator(n.scope),n.primitiveExpressionEvaluators.push(new u.ArithmeticExpressionEvaluator(n.scope)),n.primitiveExpressionEvaluators.push(new c.BooleanExpressionEvaluator(n.scope)),n.primitiveExpressionEvaluators.push(new p.StringExpressionEvaluator(n.scope)),n}return o(t,e),t.prototype.tryParse=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1];return t.regex.test(e.value)},t.prototype.modifyingArray=function(e,t){var r=e.trim().match(/^([_a-zA-Z][_a-zA-Z0-9]*)\[(.+)]$/);if(r){var n=r[1];if(""===n)throw new Error("Invalid array name at line: "+this.lineOfCodes[this.lineOfCodes.length-1].number);var o=r[2],s=void 0;try{s=new u.ArithmeticExpressionEvaluator(this.scope).evaluate(o)}catch(e){throw new Error("Invalid index expression of array at line: "+this.lineOfCodes[this.lineOfCodes.length-1].number)}if(!1===this.scope.hasVariable(n))throw new Error("Array: "+n+" not found at line: "+this.lineOfCodes[this.lineOfCodes.length-1].number);var c=this.scope.getVariable(n);if("array"!==c.type)throw new Error("Variable: "+n+" is not an array at line: "+this.lineOfCodes[this.lineOfCodes.length-1].number);if(s<0||s>=c.value.length)throw new Error("Index out of bounds exception at line: "+this.lineOfCodes[this.lineOfCodes.length-1].number);for(var p="NULL",l=0;l<this.primitiveExpressionEvaluators.length;l++){var f=this.primitiveExpressionEvaluators[l];if(f.tryEvaluate(t)){t=f.evaluate(t),p=this.mapping[l];break}}if("NULL"===p)throw new Error("Invalid value being assigned at line: "+this.lineOfCodes[this.lineOfCodes.length-1].number);if(p!==c.arrayType)throw new Error("Inconsistent types at line: "+this.lineOfCodes[this.lineOfCodes.length-1].number);var h=i(c.value);return h[s]=t,this.lineOfCodes.pop(),new a.VariableBlock(a.VariableBlockType.set,n,c.type,h,!1,this.scope)}throw new Error("Invalid modification of array at line: "+this.lineOfCodes[this.lineOfCodes.length-1].number)},t.prototype.parse=function(){if(this.tryParse()){var e=this.lineOfCodes[this.lineOfCodes.length-1],r=e.value.match(t.regex);if(r){var n=r[1],o=r[2];if(/\[.*]$/.test(n))return this.modifyingArray(n,o);if(!1===this.scope.hasVariable(n.trim()))throw new Error("Invalid identifier: "+n.trim()+" at line: "+e.number);var i=this.scope.getVariable(n.trim()),s=this.expressionEvaluators[i.type];if(!1===s.tryEvaluate(o))throw new Error("Invalid value assigned to variable at line: "+e.number);if("array"===i.type){var u=s.getType(o);if("any"!==u&&u!==i.arrayType)throw new Error("Variable's type is different from value's type")}return this.lineOfCodes.pop(),new a.VariableBlock(a.VariableBlockType.set,n,i.type,s.evaluate(o),!1,this.scope)}}throw new Error("Invalid variable modification statement at line: "+this.lineOfCodes[this.lineOfCodes.length-1].number)},t.regex=/^set\s* (\S*)\s* to\s* (.*)\s*$/,t}(s.BlockParser);t.VariableModificationParser=f},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayStatementsParser=void 0;var i=r(2),s=r(63),a=r(10),u=function(e){function t(t,r){var n=e.call(this)||this;return n.scope=t,n.lineOfCodes=r,n}return o(t,e),t.prototype.tryParse=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1];return t.regex.test(e.value.trimRight())},t.prototype.parse=function(){if(this.tryParse()){var e=this.lineOfCodes[this.lineOfCodes.length-1].value.trimRight().match(t.regex);if(e){this.lineOfCodes.pop();var r=a.csvSplit(e[1]);return new s.DisplayBlock(r,this.scope)}throw new Error("Display statement can't be empty. At line: "+this.lineOfCodes[this.lineOfCodes.length-1].number)}throw new Error("There is some error in display statement at line: "+this.lineOfCodes[this.lineOfCodes.length-1].number)},t.regex=/^display\s* (.*)$/,t}(i.BlockParser);t.DisplayStatementsParser=u},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayBlock=void 0;var i=r(3),s=r(32),a=r(11),u=r(4),c=r(9),p=r(5),l=function(e){function t(t,r){var n=e.call(this)||this;return n.values=t,n.expressionEvaluators=[],n.scope=r,n.expressionEvaluators.push(new a.ArrayExpressionEvaluator(n.scope)),n.expressionEvaluators.push(new p.BooleanExpressionEvaluator(n.scope)),n.expressionEvaluators.push(new u.ArithmeticExpressionEvaluator(n.scope)),n.expressionEvaluators.push(new c.StringExpressionEvaluator(n.scope)),n}return o(t,e),t.prototype.execute=function(){for(var e=s.OutputBuffer.instance,t=0,r=this.values;t<r.length;t++){for(var n=r[t],o=!1,i=0,a=this.expressionEvaluators;i<a.length;i++){var u=a[i];if(u.tryEvaluate(n)){o=!0;var c=u.evaluate(n).toString();e.push(c);break}}if(!1===o){if(!this.scope.hasVariable(n))throw new Error("Cannot resolve symbol: "+n);var p=this.scope.getVariable(n);e.push(p.value.toString())}}e.push("\n")},t}(i.Block);t.DisplayBlock=l},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionalBlockParser=void 0;var i=r(2),s=r(65),a=function(e){function t(t,r){var n=e.call(this)||this;return n.lineOfCodes=t,n.scope=r,n}return o(t,e),t.prototype.tryParse=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1];return t.ifRegex.test(e.value)},t.prototype.getIndentedBlock=function(){for(var e=[];this.lineOfCodes.length>0;){var t=this.lineOfCodes[this.lineOfCodes.length-1];if(!t.isInBlock())break;e.push(t),this.lineOfCodes.pop()}return e.reverse()},t.prototype.getBlocksAndConditions=function(){for(var e=t.ifRegex,r=t.elseIfRegex,n=t.elseRegex,o=!1,i=[],s=[];this.lineOfCodes.length>0;){var a=this.lineOfCodes[this.lineOfCodes.length-1],u=this.lineOfCodes.length;if(!1===o&&e.test(a.value)){o=!0,(c=a.value.match(e))&&(this.lineOfCodes.pop(),i.push(c[1]),s.push(this.getIndentedBlock()))}else{if(!o||!r.test(a.value)){if(o&&n.test(a.value)){this.lineOfCodes.pop(),i.push("true"),s.push(this.getIndentedBlock());break}break}var c;(c=a.value.match(r))&&(this.lineOfCodes.pop(),i.push(c[1]),s.push(this.getIndentedBlock()))}if(u===this.lineOfCodes.length)throw new Error("Error in statement at line: "+a.number)}return{blocks:s,conditions:i}},t.prototype.parse=function(){var e=this.getBlocksAndConditions(),t=e.blocks,r=e.conditions;return new s.ConditionBlock(r,t,this.scope)},t.ifRegex=/^if (.+),\s*then\s* do\s*:\s*$/,t.elseIfRegex=/^else\s* if (.+),\s*then\s* do\s*:\s*$/,t.elseRegex=/^else\s*,\s*do\s*:\s*$/,t}(i.BlockParser);t.ConditionalBlockParser=a},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionBlock=void 0;var i=r(3),s=r(5),a=r(6),u=function(e){function t(t,r,n){var o=e.call(this)||this;if(o.conditions=t,o.blocks=r,o.scope=n,o.isAnyBlockEmpty()||t.length!==r.length)throw new Error("Missing a block for a condition.");return o}return o(t,e),t.prototype.isAnyBlockEmpty=function(){return 0!==this.blocks.filter((function(e){return 0===e.length})).length},t.prototype.execute=function(){for(var e=new s.BooleanExpressionEvaluator(this.scope),t=0;t<this.conditions.length;t++){var r=this.conditions[t];if(!1===e.tryEvaluate(r))throw new Error("Invalid boolean expression.");if(e.evaluate(r))return void new a.Interpreter(this.blocks[t].slice(),this.scope).interpret()}},t}(i.Block);t.ConditionBlock=u},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.LoopForXTimesParser=void 0;var i=r(2),s=r(4),a=r(67),u=function(e){function t(t,r){var n=e.call(this)||this;return n.lineOfCodes=t,n.scope=r,n}return o(t,e),t.prototype.isNoCounterLoop=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1];return t.withoutCounterRegex.test(e.value)},t.prototype.isCounterLoop=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1];return t.withCounterRegex.test(e.value)},t.prototype.tryParse=function(){var e=this.isCounterLoop(),t=this.isNoCounterLoop();return e||t},t.prototype.getIndentedBlock=function(){for(var e=[];this.lineOfCodes.length>0;){var t=this.lineOfCodes[this.lineOfCodes.length-1];if(!t.isInBlock())break;e.push(t),this.lineOfCodes.pop()}return e.reverse()},t.prototype.parseNoCounterLoop=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1].value.match(t.withoutCounterRegex);if(e){var r=e[1],n=new s.ArithmeticExpressionEvaluator(this.scope);if(n.tryEvaluate(r)){var o=n.evaluate(r);return this.lineOfCodes.pop(),new a.LoopForXTimes(o,this.scope,this.getIndentedBlock())}}throw new Error("Invalid statement")},t.prototype.parseCounterLoop=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1].value.match(t.withCounterRegex);if(e){var r=e[1],n=e[2],o=new s.ArithmeticExpressionEvaluator(this.scope);if(o.tryEvaluate(r)){var i=o.evaluate(r);return this.lineOfCodes.pop(),new a.LoopForXTimes(i,this.scope,this.getIndentedBlock(),n)}}throw new Error("Invalid statement")},t.prototype.parse=function(){if(this.isCounterLoop())return this.parseCounterLoop();if(this.isNoCounterLoop())return this.parseNoCounterLoop();throw new Error("Invalid statement")},t.withoutCounterRegex=/^loop\s* for (.*) times\s*:\s*$/,t.withCounterRegex=/^loop\s* for (.*) times\s* with (.*) as\s* counter\s*:\s*$/,t}(i.BlockParser);t.LoopForXTimesParser=u},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.LoopForXTimes=void 0;var i=r(3),s=r(12),a=r(6),u=r(7),c=function(e){function t(t,r,n,o){var i=e.call(this)||this;return i.numberOfTimes=t,i.childLinesOfCode=n,i.hasCounterVariable=!1,i.counterVariableName="DUMMY",i.scope=new s.Scope(r),o&&(i.hasCounterVariable=!0,i.counterVariableName=o),i}return o(t,e),t.prototype.setCounterVariableTo=function(e,t){new u.VariableBlock(u.VariableBlockType.declare,this.counterVariableName,"number",e,!0,t).execute()},t.prototype.execute=function(){for(var e=0;e<this.numberOfTimes;e++){var t=this.scope.shallowClone();this.hasCounterVariable&&this.setCounterVariableTo(e+1,t);try{new a.Interpreter(this.childLinesOfCode.slice(),t).interpret()}catch(e){if("break"===e.message)break;if("continue"===e.message)continue;throw e}}},t}(i.Block);t.LoopForXTimes=c},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.LoopWhileExpressionIsTrueParser=void 0;var i=r(2),s=r(69),a=function(e){function t(t,r){var n=e.call(this)||this;return n.lineOfCodes=t,n.scope=r,n}return o(t,e),t.prototype.tryParse=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1];return t.regex.test(e.value)},t.prototype.getIndentedBlock=function(){for(var e=[];this.lineOfCodes.length>0;){var t=this.lineOfCodes[this.lineOfCodes.length-1];if(!t.isInBlock())break;e.push(t),this.lineOfCodes.pop()}return e.reverse()},t.prototype.parse=function(){if(this.tryParse()){var e=this.lineOfCodes[this.lineOfCodes.length-1],r=t.regex,n=e.value.match(r);if(n){var o=n[1];return this.lineOfCodes.pop(),new s.LoopWhileExpressionIsTrue(o,this.scope,this.getIndentedBlock())}}throw new Error("Invalid statement")},t.regex=/^loop\s* while (.*):\s*$/,t}(i.BlockParser);t.LoopWhileExpressionIsTrueParser=a},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.LoopWhileExpressionIsTrue=void 0;var i=r(3),s=r(12),a=r(6),u=r(5),c=function(e){function t(t,r,n){var o=e.call(this)||this;return o.expression=t,o.childLinesOfCode=n,o.scope=new s.Scope(r),o}return o(t,e),t.prototype.execute=function(){var e=this,t=new u.BooleanExpressionEvaluator(this.scope),r=function(){if(!1===t.tryEvaluate(e.expression))throw new Error("Invalid boolean expression.")};for(r();t.evaluate(this.expression);){try{new a.Interpreter(this.childLinesOfCode.slice(),this.scope.shallowClone()).interpret()}catch(e){if("break"===e.message)break;if("continue"===e.message)continue;throw e}r()}},t}(i.Block);t.LoopWhileExpressionIsTrue=c},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ForEveryLoopParser=void 0;var i=r(2),s=r(11),a=r(23),u=r(7),c=r(71),p=function(e){function t(t,r){var n=e.call(this)||this;return n.lineOfCodes=t,n.scope=r,n}return o(t,e),t.prototype.isForEachLoop=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1];return t.withoutIndexRegex.test(e.value)},t.prototype.isEnumeratorLoop=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1];return t.withIndexRegex.test(e.value)},t.prototype.tryParse=function(){var e=this.isEnumeratorLoop();return this.isForEachLoop()||e},t.prototype.getIndentedBlock=function(){for(var e=[];this.lineOfCodes.length>0;){var t=this.lineOfCodes[this.lineOfCodes.length-1];if(!t.isInBlock())break;e.push(t),this.lineOfCodes.pop()}return e.reverse()},t.getRandomString=function(){return"_"+Math.floor(Math.random()*Math.pow(10,10))+"_array_"+Math.floor(Math.random()*Math.pow(10,10))+"_array_"+Math.floor(Math.random()*Math.pow(10,10))},t.prototype.parseForEachLoop=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1].value.match(t.withoutIndexRegex);if(e){var r=e[1],n=e[2],o=new s.ArrayExpressionEvaluator(this.scope);if(!1===o.tryEvaluate(n))throw new Error("'"+n+"' is not a valid array.");var i=t.getRandomString(),p=this.scope.shallowClone(),l=o.evaluate(n);return new a.ArrayVariableBlock(u.VariableBlockType.declare,i,"array",l,!1,p,o.getType(JSON.stringify(l))).execute(),this.lineOfCodes.pop(),new c.ForEveryLoop(r,p,this.getIndentedBlock(),i)}throw new Error("Invalid statement")},t.prototype.parseEnumeratorLoop=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1].value.match(t.withIndexRegex);if(e){var r=e[1],n=e[2],o=e[3],i=new s.ArrayExpressionEvaluator(this.scope);if(!1===i.tryEvaluate(n))throw new Error("'"+n+"' is not a valid array.");var p=t.getRandomString(),l=this.scope.shallowClone(),f=i.evaluate(n);return new a.ArrayVariableBlock(u.VariableBlockType.declare,p,"array",f,!1,l,i.getType(JSON.stringify(f))).execute(),this.lineOfCodes.pop(),new c.ForEveryLoop(r,l,this.getIndentedBlock(),p,o)}throw new Error("Invalid statement")},t.prototype.parse=function(){if(this.isEnumeratorLoop())return this.parseEnumeratorLoop();if(this.isForEachLoop())return this.parseForEachLoop();throw new Error("Invalid statement")},t.withoutIndexRegex=/^for\s* every (.*) in (.*):\s*$/,t.withIndexRegex=/^for every (.*) in (.*) with (.*) as\s* index\s*:\s*$/,t}(i.BlockParser);t.ForEveryLoopParser=p},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ForEveryLoop=void 0;var i=r(3),s=r(12),a=r(6),u=r(7),c=function(e){function t(t,r,n,o,i){var a=e.call(this)||this;if(a.variableName=t,a.childLinesOfCode=n,a.indexName=i,a.scope=new s.Scope(r),!1===a.scope.hasVariable(o))throw new Error("'"+o+"' variable doesn't exist");if(a.array=a.scope.getVariable(o),"array"!==a.array.type)throw new Error("'"+o+"' variable is not an iterable");return a}return o(t,e),t.prototype.setItemVariableTo=function(e,t){new u.VariableBlock(u.VariableBlockType.declare,this.variableName,this.array.arrayType,e,!0,t).execute()},t.prototype.setIndexVariableTo=function(e,t){this.indexName&&new u.VariableBlock(u.VariableBlockType.declare,this.indexName,"number",e,!0,t).execute()},t.prototype.execute=function(){for(var e=0;e<this.array.value.length;e++){var t=this.array.value[e],r=this.scope.shallowClone();this.setItemVariableTo(t,r),this.setIndexVariableTo(e,r);try{new a.Interpreter(this.childLinesOfCode.slice(),r).interpret()}catch(e){if("break"===e.message)break;if("continue"===e.message)continue;throw e}}},t}(i.Block);t.ForEveryLoop=c},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ReturnParser=void 0;var i=r(2),s=r(3),a=r(73),u=function(e){function t(t,r){var n=e.call(this)||this;return n.scope=t,n.lineOfCodes=r,n}return o(t,e),t.prototype.tryParse=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1];return t.regex.test(e.value)||"return"===e.value.trimRight()},t.prototype.parse=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1].value.match(t.regex);if(this.tryParse()){var r=e?e[1]:"",n=this.lineOfCodes;return new(function(e){function t(t,r){var n=e.call(this)||this;return n.scope=t,n.lineOfCodes=r,n}return o(t,e),t.prototype.execute=function(){var e=new a.ReturnError("return",this.scope,r);throw n.pop(),e},t}(s.Block))(this.scope,this.lineOfCodes)}throw new Error("Invalid return statement")},t.regex=/^return (.*)$/,t}(i.BlockParser);t.ReturnParser=u},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ReturnError=void 0;var i=function(e){function t(t,r,n){var o=e.call(this)||this;return o.message=t,o.scope=r,o.value=n,o}return o(t,e),t}(Error);t.ReturnError=i},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionExecutionParser=void 0;var i=r(2),s=r(3),a=r(15),u=function(e){function t(t,r){var n=e.call(this)||this;return n.scope=t,n.lineOfCodes=r,n}return o(t,e),t.prototype.tryParse=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1];return t.regex.test(e.value.trim())},t.prototype.parse=function(){var e=new a.FunctionExpressionEvaluator(this.scope),t=this.lineOfCodes,r=this.lineOfCodes[this.lineOfCodes.length-1];return new(function(n){function i(e){var t=n.call(this)||this;return t.scope=e,t}return o(i,n),i.prototype.execute=function(){try{t.pop(),e.evaluate(r.value.replace("execute","result of"))}catch(e){if("Function returns nothing according to definition."!==e.message)throw e}},i}(s.Block))(this.scope)},t.regex=/^execute (.*)\((.*)\)\s*$/,t}(i.BlockParser);t.FunctionExecutionParser=u},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionDefinitionBlockParser=void 0;var i=r(2),s=r(3),a=r(10),u=r(76),c=function(e){function t(t,r){var n=e.call(this)||this;return n.scope=t,n.lineOfCodes=r,n}return o(t,e),t.prototype.tryParse=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1];return t.regex.test(e.value)},t.prototype.getIndentedBlock=function(){for(var e=[];this.lineOfCodes.length>0;){var t=this.lineOfCodes[this.lineOfCodes.length-1];if(!t.isInBlock())break;e.push(t),this.lineOfCodes.pop()}return e.reverse()},t.prototype.parse=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1].value.match(t.regex);if(e){var r=e[1].trim(),n=e[2].trim(),i=e[3].trim(),c=[];if(""!==n&&(c=a.csvSplit(n)),!1===t.acceptedReturnTypes.includes(i))throw new Error("Invalid return type.");this.lineOfCodes.pop();var p=new u.FunctionBlock(r,c,this.getIndentedBlock(),this.scope,"nothing"!==i,i);return new(function(e){function t(t,r){var n=e.call(this)||this;return n.scope=t,n.lineOfCodes=r,n}return o(t,e),t.prototype.execute=function(){u.FunctionBlock.define(p,this.scope)},t}(s.Block))(this.scope,this.lineOfCodes)}throw new Error("Invalid statement.")},t.regex=/^define\s* function\s* (.+) with\s* arguments\s* \[(.*)]\s* which\s* returns (.*):\s*$/,t.acceptedReturnTypes=["nothing","number","string","boolean","array of boolean","array of string","array of number"],t}(i.BlockParser);t.FunctionDefinitionBlockParser=c},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionBlock=void 0;var i=r(3),s=r(13),a=r(12),u=r(21),c=r(22),p=r(6),l=r(20),f=r(4),h=r(5),v=r(9),d=r(11),y=function(e){function t(t,r,n,o,i,s){var p=e.call(this)||this;if(p.functionName=t,p.functionArguments=r,p.chileLinesOfCode=n,p.shouldReturnSomething=i,p.returnType=s,p.expressionEvaluators={},p.argv=[],p.evaluationScope=new a.Scope,p.scope=new a.Scope(o),p.expressionEvaluators.number=function(e){return new f.ArithmeticExpressionEvaluator(e)},p.expressionEvaluators.boolean=function(e){return new h.BooleanExpressionEvaluator(e)},p.expressionEvaluators.string=function(e){return new v.StringExpressionEvaluator(e)},p.expressionEvaluators["array of number"]=function(e){return new d.ArrayExpressionEvaluator(e)},p.expressionEvaluators["array of boolean"]=p.expressionEvaluators["array of number"],p.expressionEvaluators["array of string"]=p.expressionEvaluators["array of number"],p.functionName=p.functionName.trim(),u.existingKeywords.has(p.functionName))throw new Error("'"+p.functionName+"' is a keyword and can't be used as an identifier.");if(!1===c.isValidIdentifier(p.functionName))throw new Error("'"+p.functionName+"' is not a valid identifier name.");return p}return o(t,e),t.define=function(e,t){if(t.hasFunction(e.functionName))throw new Error("Function '"+e.functionName+"' already exists.");t.functions[e.functionName]=e},t.prototype.getResult=function(){if(!1===this.shouldReturnSomething)throw new Error("Function returns nothing according to definition.");if(void 0===this.result)throw new Error("Function didn't return anything.");var e=this.result;return this.result=void 0,e},t.tryDefine=function(e,t,r,n){var o=e.split(" "),i="";if(2!==o.length&&4!==o.length)throw new Error("Can't be parsed.");2===o.length&&(i="let "+e+" be "+t),4===o.length&&(i="let array of "+o[2]+", "+o[3]+", be "+t);var a=new s.LineOfCode(i,Math.random()),u=new l.VariableDeclarationParser(r,[a],n);if(!1===u.tryParse())throw new Error("Can't be parsed.");u.parse().execute()},t.prototype.execute=function(){if(this.functionArguments.length!==this.argv.length)throw new Error("Expected "+this.functionArguments.length+" arguments but got "+this.argv.length+" instead.");for(var e=this.scope.shallowClone(),r=0;r<this.functionArguments.length;r++)try{t.tryDefine(this.functionArguments[r],this.argv[r],e,this.evaluationScope)}catch(e){throw new Error("Invalid argument declaration or assignment: "+this.functionArguments[r]+" <= "+this.argv[r]+".")}try{new p.Interpreter(this.chileLinesOfCode.slice(),e).interpret()}catch(e){if("return"!==e.message)throw e;try{if(this.shouldReturnSomething){var n=e,o=n.value,i=this.returnType.split(" "),s=n.scope;if(!1===this.expressionEvaluators[this.returnType](s).tryEvaluate(o))throw new Error("Invalid data returned.");if(this.result={value:this.expressionEvaluators[this.returnType](s).evaluate(o),isPermanent:!1,type:i.length>1?"array":this.returnType},i.length>1){if(i[2]!==new d.ArrayExpressionEvaluator(s).getType(o))throw new Error("Invalid data returned.");this.result.arrayType=i[2]}}}catch(e){throw new Error("Invalid data returned.")}}this.argv=[]},t}(i.Block);t.FunctionBlock=y},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.BreakStatementParser=void 0;var i=r(2),s=r(3),a=function(e){function t(t,r){var n=e.call(this)||this;return n.scope=t,n.lineOfCodes=r,n}return o(t,e),t.prototype.tryParse=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1];return t.regex.test(e.value)},t.prototype.parse=function(){if(this.tryParse()){var e=this.lineOfCodes;return new(function(t){function r(e){var r=t.call(this)||this;return r.scope=e,r}return o(r,t),r.prototype.execute=function(){throw e.pop(),new Error("break")},r}(s.Block))(this.scope)}throw new Error("Invalid statement")},t.regex=/^break\s*$/,t}(i.BlockParser);t.BreakStatementParser=a},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ContinueStatementParser=void 0;var i=r(2),s=r(3),a=function(e){function t(t,r){var n=e.call(this)||this;return n.scope=t,n.lineOfCodes=r,n}return o(t,e),t.prototype.tryParse=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1];return t.regex.test(e.value)},t.prototype.parse=function(){if(this.tryParse()){var e=this.lineOfCodes;return new(function(t){function r(e){var r=t.call(this)||this;return r.scope=e,r}return o(r,t),r.prototype.execute=function(){throw e.pop(),new Error("continue")},r}(s.Block))(this.scope)}throw new Error("Invalid statement")},t.regex=/^continue\s*$/,t}(i.BlockParser);t.ContinueStatementParser=a},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.PopFromArrayParser=void 0;var i=r(2),s=r(3),a=function(e){function t(t,r){var n=e.call(this)||this;return n.lineOfCodes=t,n.scope=r,n}return o(t,e),t.prototype.tryParse=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1];return t.regex.test(e.value)},t.prototype.parse=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1].value.match(t.regex),r=this.lineOfCodes;if(e){var n=e[1].trim();if(!1===this.scope.hasVariable(n))throw new Error("'"+n+"' is undefined.");var i=this.scope.getVariable(n);if("array"!==i.type)throw new Error("'"+n+"' is not an array.");return new(function(e){function t(t){var r=e.call(this)||this;return r.scope=t,r}return o(t,e),t.prototype.execute=function(){r.pop(),i.value.length>0&&i.value.pop()},t}(s.Block))(this.scope)}throw new Error("Invalid statement.")},t.regex=/^pop\s* from (.*)$/,t}(i.BlockParser);t.PopFromArrayParser=a},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.PushIntoArrayParser=void 0;var i=r(2),s=r(3),a=r(4),u=r(9),c=r(5),p=function(e){function t(t,r){var n=e.call(this)||this;return n.lineOfCodes=t,n.scope=r,n.expressionEvaluators={string:new u.StringExpressionEvaluator(n.scope),number:new a.ArithmeticExpressionEvaluator(n.scope),boolean:new c.BooleanExpressionEvaluator(n.scope)},n}return o(t,e),t.prototype.tryParse=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1];return t.regex.test(e.value)},t.prototype.parse=function(){var e=this.lineOfCodes[this.lineOfCodes.length-1].value.match(t.regex),r=this.lineOfCodes;if(e){var n=e[1].trim(),i=e[2].trim();if(!1===this.scope.hasVariable(i))throw new Error("'"+i+"' is undefined.");var a=this.scope.getVariable(i);if("array"!==a.type)throw new Error("'"+i+"' is not an array.");var u=a.arrayType,c=this.expressionEvaluators[u];if(!1===c.tryEvaluate(n))throw new Error("Cannot assign '"+n+"' to '"+i+"'.");var p=c.evaluate(n);return new(function(e){function t(t){var r=e.call(this)||this;return r.scope=t,r}return o(t,e),t.prototype.execute=function(){r.pop(),a.value.push(p)},t}(s.Block))(this.scope)}throw new Error("Invalid statement.")},t.regex=/^push (.*) into (.*)$/,t}(i.BlockParser);t.PushIntoArrayParser=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalScope=void 0;var n=new(r(12).Scope);t.globalScope=n},function(e,t,r){"use strict";r.r(t);r(34),r(35),r(36),r(37),r(38),r(39),r(40);const n=document.querySelector("body"),o=document.querySelector(".examples"),i=document.querySelector(".modal-bg"),s=document.querySelector(".modal");o.addEventListener("click",()=>{i.classList.add("bg-active"),n.style.overflow="hidden"}),i.addEventListener("click",()=>{i.classList.remove("bg-active"),n.style.overflow="auto"}),s.addEventListener("click",e=>{e.stopPropagation()});const a=CodeMirror.fromTextArea(document.getElementById("console"),{theme:"material-palenight",indentUnit:4,readOnly:!0});a.setSize("100%","100%"),CodeMirror.defineSimpleMode("simplemode",{start:[{regex:/'(?:[^\\]|\\.)*?(?:'|$)/,token:"string"},{regex:/(?:true|false)\b/,token:"keyword"},{regex:/(?:number|string|boolean|array)\b/,token:"variable-3"},{regex:new RegExp(`(?:${["define","if","else","function","arguments","with","which","returns","nothing","let","number","string","boolean","array","of","be","set","to","display","push","pop","into","from","length","then","do","loop","for","times","as","counter","while","every","in","index","return","execute","or","and","result"].join("|")})\\b`),token:"atom"},{regex:/[a-z$][\w$]*/,token:"variable"},{regex:/[-+\/*=<>!]+/,token:"operator"},{regex:/0x[a-f\d]+|[-+]?(?:\.\d+|\d+\.?\d*)(?:e[-+]?\d+)?/i,token:"number"},{regex:/(:\s*)$/,indent:!0}]});const u=CodeMirror.fromTextArea(document.getElementById("code-area"),{lineNumbers:!0,theme:"material-ocean",indentUnit:4,autofocus:!0,indentWithTabs:!0});u.setSize("100%","100%"),[{name:"Is Prime?",code:"define function isPrime with arguments [ number n ] which returns boolean:\n\tif n <= 3, then do:\n\t\treturn n > 1\n\t\n\tif n%2 == 0 or n%3 == 0, then do:\n\t\treturn false\n\t\n\tlet number i be 5\n\tloop while i*i <= n:\n\t\tlet number nModI be n % i\n\t\tlet number nModIPlus2 be n % (i + 2)\n\t\tif nModI == 0 or nModIPlus2 == 0, then do:\n\t\t\treturn false\n\t\t\n\t\tset i to i + 6\n\t\n\treturn true\n\nlet number num be 1\nloop while num <= 50:\n\tlet boolean answer be result of isPrime(num)\n\tdisplay num, ': ', answer\n\tset num to num + 1\n"},{name:"Factorial",code:"define function factorial with arguments [ number n ] which returns number:\n\tif n == 0 or n == 1, then do:\n\t\treturn n\n\t\n\tlet number factNMinus1 be result of factorial(n - 1)\n\treturn n * factNMinus1\n\n\t\t\nlet number num be 1\nloop while num <=10:\n\tlet number res be result of factorial(num)\n\tdisplay num, ' factorial is ', res\n\tset num to num + 1\n"},{name:"Fibonacci number",code:"define function fibonacci with arguments [number n] which returns number:\n    if n == 0, then do:\n        return 0\n    \n    if n == 1, then do:\n        return 1\n    \n    let number fibN_take_1 be result of fibonacci(n - 1)\n    let number fibN_take_2 be result of fibonacci(n - 2)\n    \n    return fibN_take_1 + fibN_take_2\n\n\nlet array of number, fibNums, be []\nlet number i be 0\nloop while true:\n    let number ithFibNum be result of fibonacci(i)\n    if ithFibNum > 100, then do:\n        break\n    push ithFibNum into fibNums\n    set i to i + 1\n\ndisplay 'Fibonacci numbers less than 100 are '\nfor every fibNum in fibNums:\n\tdisplay fibNum\n"},{name:"Sort",code:"\ndefine function bubbleSort with arguments [ array of number arr ] which returns array of number:\n\tlet number i be 0\n\tlet number arrLen be length of arr\n\tloop while i < arrLen:\n\t\tlet number j be 0\n\t\tloop while j+1 < arrLen:\n\t\t\tif arr[j+1] < arr[j], then do:\n\t\t\t\tlet number temp be arr[j]\n\t\t\t\tset arr[j] to arr[j+1]\n\t\t\t\tset arr[j+1] to temp\n\t\t\tset j to j + 1\n\t\tset i to i + 1\n\treturn arr\n\nlet array of number, myNumberArray, be [ 34, 42, 12, 45, 64, 22, 21, 43, 2, 23, 1, 0]\nlet array of number, sortedArray, be result of bubbleSort(myNumberArray)\ndisplay sortedArray\n    "},{name:"Nested Loops",code:"\nloop for 5 times with i as counter:\n\tloop for 6 times with j as counter:\n\t\tloop for 7 times with k as counter:\n\t\t\tdisplay i, ', ', j, ', ', k\n    "},{name:"FizzBuzz",code:"\ndefine function fizzBuzz with arguments [ number n ] which returns nothing:\n\tloop for n times with i as counter:\n\t\tif i%15 == 0, then do:\n\t\t\tdisplay 'FizzBuzz'\n\t\telse if i%3 == 0, then do:\n\t\t\tdisplay 'Fizz'\n\t\telse if i%5 == 0, then do:\n\t\t\tdisplay 'Buzz'\n\t\telse, do:\n\t\t\tdisplay i\n\n\t\t\t\nexecute fizzBuzz(20)\n\n    "}].forEach(e=>{const t=document.createElement("div");t.innerText=e.name,t.classList.add("example"),t.addEventListener("click",()=>{u.setValue(e.code),i.classList.remove("bg-active"),n.style.overflow="auto"}),document.querySelector(".examples-container").appendChild(t)});var c=r(33);const p=document.querySelector(".run-program");let l=!1;p.addEventListener("click",()=>{if(l)return;l=!0;const e=u.getValue(),t=new c.Main(e);t.compile();const r=(new Date).toLocaleString();a.setValue(`Processing, started at: ${r}\n`),setTimeout(()=>{const e=t.getOutput(),r=(new Date).toLocaleString();a.setValue(`Output at: ${r}\n********************\n`+e),l=!1},0)})}]);